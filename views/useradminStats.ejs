<!DOCTYPE html>
<html>
<head>
    <title>Estadísticas del usuario</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <!-- Incluimos Chart.js -->
</head>
<body>
    <%-include('../views/layouts/LayoutIn.ejs')%>
   
<div style="width: 60%; height: 40%; position: relative; left: 30%;">
    <h1 style="color: white; font-family: 'Poppins',sans-serif;" id="layoutOnSection">Datos del usuario</h1>
    <canvas id="casosChart"></canvas> <!-- Gráfico de barras para los casos -->
    <br><br><br>
    <canvas id="solicitudesChart"></canvas> <!-- Gráfico de dona para las solicitudes -->
    <br><br><br>
    <canvas id="citasChart"></canvas> <!-- Gráfico de línea para las citas -->
    <canvas id="documentosChart"></canvas> <!-- Gráfico de pie para los documentos -->
    <canvas id="pagosChart"></canvas> <!-- Gráfico de área polar para los pagos -->
    <canvas id="reunionesChart"></canvas> <!-- Gráfico de radar para las reuniones -->
</div>
    <script>
        const casosCtx = document.getElementById('casosChart').getContext('2d');
        const solicitudesCtx = document.getElementById('solicitudesChart').getContext('2d');
        const citasCtx = document.getElementById('citasChart').getContext('2d');
        const documentosCtx = document.getElementById('documentosChart').getContext('2d');
        const pagosCtx = document.getElementById('pagosChart').getContext('2d');
        const reunionesCtx = document.getElementById('reunionesChart').getContext('2d');

        const casosChart = new Chart(casosCtx, {
            type: 'bar',
            data: {
                labels: ['Ganados', 'Perdidos', 'A medias'],
                datasets: [{
                    label: 'Casos',
                    data: [<%= stats.casosGanados %>, <%= stats.casosPerdidos %>, <%= stats.casosMedias %>],
                    backgroundColor: ['rgba(75, 192, 192, 0.2)', 'rgba(153, 102, 255, 0.2)', 'rgba(255, 159, 64, 0.2)'],
                    borderColor: ['rgba(75, 192, 192, 1)', 'rgba(153, 102, 255, 1)', 'rgba(255, 159, 64, 1)'],
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });


        const citasChart = new Chart(citasCtx, {
            type: 'pie',
            data: {
                labels: ['Citas', 'Reuniones'],
                datasets: [{
                    label: 'Cantidad',
                    data: [<%= stats.citas %>, <%= stats.reuniones %>],
                    backgroundColor: ['rgba(75, 192, 192, 0.2)', 'rgba(153, 102, 255, 0.2)'],
                    borderColor: ['rgba(75, 192, 192, 1)'],
                    borderWidth: 1
                }]
            }
        });


        const solicitudesChart = new Chart(solicitudesCtx, {
            type: 'polarArea',
            data: {
                labels: ['Solicitudes recibidas', 'Documentos creados', 'Pagos recibidos'],
                datasets: [{
                    label: 'Cantidad',
                    data: [<%= stats.solicitudesRecibidas %>, <%= stats.documentos %>,<%= stats.pagosRecibidos %>],
                    backgroundColor: ['rgba(75, 192, 192, 0.2)', 'rgba(153, 102, 255, 0.2)', 'rgba(255, 159, 64, 0.2)'],
                    borderColor: ['rgba(75, 192, 192, 1)'],
                    borderWidth: 1
                }]
            }
        });

        /* const solicitudesChart = new Chart(solicitudesCtx, {
            type: 'doughnut',
            data: {
                labels: ['Solicitudes recibidas'],
                datasets: [{
                    label: 'Solicitudes',
                    data: [<%= stats.solicitudesRecibidas %>],
                    backgroundColor: ['rgba(255, 99, 132, 0.2)'],
                    borderColor: ['rgba(255, 99, 132, 1)'],
                    borderWidth: 1
                }]
            }
        });

        const citasChart = new Chart(citasCtx, {
            type: 'line',
            data: {
                labels: ['Citas'],
                datasets: [{
                    label: 'Citas',
                    data: [<%= stats.citas %>],
                    backgroundColor: ['rgba(54, 162, 235, 0.2)'],
                    borderColor: ['rgba(54, 162, 235, 1)'],
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        const documentosChart = new Chart(documentosCtx, {
            type: 'pie',
            data: {
                labels: ['Documentos'],
                datasets: [{
                    label: 'Documentos',
                    data: [<%= stats.documentos %>],
                    backgroundColor: ['rgba(255, 206, 86, 0.2)'],
                    borderColor: ['rgba(255, 206, 86, 1)'],
                    borderWidth: 1
                }]
            }
        });

        const pagosChart = new Chart(pagosCtx, {
            type: 'polarArea',
            data: {
                labels: ['Pagos recibidos'],
                datasets: [{
                    label: 'Pagos',
                    data: [<%= stats.pagosRecibidos %>],
                    backgroundColor: ['rgba(75, 192, 192, 0.2)'],
                    borderColor: ['rgba(75, 192, 192, 1)'],
                    borderWidth: 1
                }]
            }
        });

        const reunionesChart = new Chart(reunionesCtx, {
            type: 'radar',
            data: {
                labels: ['Reuniones'],
                datasets: [{
                    label: 'Reuniones',
                    data: [<%= stats.reuniones %>],
                    backgroundColor: ['rgba(153, 102, 255, 0.2)'],
                    borderColor: ['rgba(153, 102, 255, 1)'],
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    r: {
                        beginAtZero: true
                    }
                }
            }
        }); */
    </script>
</body>
</html>

